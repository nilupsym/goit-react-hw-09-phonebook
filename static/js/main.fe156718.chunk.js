(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{21:function(t,e,r){"use strict";r.d(e,"i",(function(){return c})),r.d(e,"j",(function(){return a})),r.d(e,"h",(function(){return s})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return i})),r.d(e,"f",(function(){return l})),r.d(e,"g",(function(){return j})),r.d(e,"e",(function(){return b})),r.d(e,"d",(function(){return d}));var n=r(2),c=Object(n.b)("contacts/fetchContactsRequest"),a=Object(n.b)("contacts/fetchContactsSuccess"),s=Object(n.b)("contacts/fetchContactsError"),u=Object(n.b)("contacts/addContactRequest"),o=Object(n.b)("contacts/addContactSuccess"),i=Object(n.b)("contacts/addContactError"),l=Object(n.b)("contacts/deleteContactRequest"),j=Object(n.b)("contacts/deleteContactSuccess"),b=Object(n.b)("contacts/deleteContactError"),d=Object(n.b)("contacts/changeFilter")},25:function(t,e,r){"use strict";var n=r(16),c=r.n(n),a=r(24),s=r(17),u=r.n(s),o=r(3);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var i=function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},l=function(){u.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(){var e=Object(a.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(o.a.registerRequest()),e.prev=1,e.next=4,u.a.post("/users/signup",t);case 4:n=e.sent,i(n.data.token),r(o.a.registerSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(o.a.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(a.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(o.a.loginRequest()),e.prev=1,e.next=4,u.a.post("/users/login",t);case 4:n=e.sent,i(n.data.token),r(o.a.loginSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(o.a.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(o.a.logoutRequest()),t.prev=1,t.next=4,u.a.post("/users/logout");case 4:l(),e(o.a.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(o.a.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(a.a)(c.a.mark((function t(e,r){var n,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r(),a=n.auth.token){t.next=3;break}return t.abrupt("return");case 3:return i(a),e(o.a.getCurrentUserRequest()),t.prev=5,t.next=8,u.a.get("/users/current");case 8:s=t.sent,e(o.a.getCurrentUserSuccess(s.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(o.a.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,r){return t.apply(this,arguments)}}()}}},3:function(t,e,r){"use strict";var n=r(2),c=Object(n.b)("auth/registerRequest"),a=Object(n.b)("auth/registerSuccess"),s=Object(n.b)("auth/registerError"),u=Object(n.b)("auth/loginRequest"),o=Object(n.b)("auth/loginSuccess"),i=Object(n.b)("auth/loginError"),l=Object(n.b)("auth/logoutRequest"),j=Object(n.b)("auth/logoutSuccess"),b=Object(n.b)("auth/logoutError"),d=Object(n.b)("auth/getCurrentUserRequest"),O=Object(n.b)("auth/getCurrentUserSuccess"),g=Object(n.b)("auth/getCurrentUserError");e.a={registerRequest:c,registerSuccess:a,registerError:s,logoutRequest:l,logoutSuccess:j,logoutError:b,loginRequest:u,loginSuccess:o,loginError:i,getCurrentUserRequest:d,getCurrentUserSuccess:O,getCurrentUserError:g}},49:function(t,e,r){t.exports={Container:"Container_Container__stOqp"}},87:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r.n(n),a=r(26),s=r.n(a),u=r(15),o=r(10),i=r(48),l=r(7),j={getIsAuthenticated:function(t){return Boolean(t.auth.isAuthenticated)},getUserName:function(t){return t.auth.user.name}},b=r(1),d={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function O(){var t=Object(o.c)(j.getIsAuthenticated);return Object(b.jsxs)("nav",{children:[Object(b.jsx)(u.b,{to:"/",exact:!0,style:d.link,activeStyle:d.activeLink,children:"Home"}),t&&Object(b.jsx)(u.b,{to:"/contacts",exact:!0,style:d.link,activeStyle:d.activeLink,children:"Phonebook"})]})}var g=r(25),h={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}};function f(){var t=Object(o.b)(),e=Object(o.c)(j.getUserName),r=Object(n.useCallback)((function(){t(g.a.logOut())}),[t]);return Object(b.jsxs)("div",{style:h.container,children:[Object(b.jsx)("img",{src:"data:image/png;base64,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",alt:"user avatar",width:"32",style:h.avatar}),Object(b.jsxs)("span",{style:h.name,children:["Welcome, ",e]}),Object(b.jsx)("button",{type:"button",onClick:r,children:"Logout"})]})}var p={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},v=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.b,{to:"/register",exact:!0,style:p.link,activeStyle:p.activeLink,children:"Register"}),Object(b.jsx)(u.b,{to:"/login",exact:!0,style:p.link,activeStyle:p.activeLink,children:"Login"})]})},S={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}};function x(){var t=Object(o.c)(j.getIsAuthenticated);return Object(b.jsxs)("header",{style:S.header,children:[Object(b.jsx)(O,{}),t?Object(b.jsx)(f,{}):Object(b.jsx)(v,{})]})}var m=r(49),A=r.n(m),E=function(t){var e=t.children;return Object(b.jsx)("div",{className:A.a.Container,children:e})},C=r(20),U=r(29);function y(t){t.isAuthenticated;var e=t.redirectTo,r=t.children,n=Object(U.a)(t,["isAuthenticated","redirectTo","children"]),c=Object(o.c)(j.getIsAuthenticated);return Object(b.jsx)(l.b,Object(C.a)(Object(C.a)({},n),{},{children:c?r:Object(b.jsx)(l.a,{to:e})}))}function k(t){t.isAuthenticated;var e=t.redirectTo,r=t.children,n=Object(U.a)(t,["isAuthenticated","redirectTo","children"]),c=Object(o.c)(j.getIsAuthenticated);return Object(b.jsx)(l.b,Object(C.a)(Object(C.a)({},n),{},{children:c&&n.restricted?Object(b.jsx)(l.a,{to:e}):r}))}var q=Object(n.lazy)((function(){return r.e(1).then(r.bind(null,92))})),z=Object(n.lazy)((function(){return r.e(4).then(r.bind(null,93))})),R=Object(n.lazy)((function(){return r.e(2).then(r.bind(null,94))})),N=Object(n.lazy)((function(){return r.e(0).then(r.bind(null,95))}));function I(){var t=Object(o.b)();return Object(n.useEffect)((function(){t(g.a.getCurrentUser())}),[t]),Object(b.jsxs)(E,{children:[Object(b.jsx)(x,{}),Object(b.jsx)(n.Suspense,{fallback:Object(b.jsx)("p",{children:"Loading..."}),children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(k,{exact:!0,path:"/",children:Object(b.jsx)(q,{})}),Object(b.jsx)(k,{path:"/register",restricted:!0,redirectTo:"/contacts",children:Object(b.jsx)(z,{})}),Object(b.jsx)(k,{path:"/login",restricted:!0,redirectTo:"/contacts",children:Object(b.jsx)(R,{})}),Object(b.jsx)(y,{path:"/contacts",redirectTo:"/login",children:Object(b.jsx)(N,{})})]})})]})}var w,M,L,W,T,Q=r(30),K=r(2),Y=r(50),D=r.n(Y),V=r(18),B=r(6),G=r(8),P=r(21),F=Object(K.c)([],(w={},Object(B.a)(w,P.j,(function(t,e){return e.payload})),Object(B.a)(w,P.c,(function(t,e){var r=e.payload;return[].concat(Object(Q.a)(t),[r])})),Object(B.a)(w,P.g,(function(t,e){var r=e.payload;return t.filter((function(t){return t.id!==r}))})),w)),J=Object(K.c)("",Object(B.a)({},P.d,(function(t,e){return e.payload}))),X=Object(G.c)({items:F,filter:J}),Z=r(3),H={name:null,email:null},_=Object(K.c)(H,(M={},Object(B.a)(M,Z.a.registerSuccess,(function(t,e){return e.payload.user})),Object(B.a)(M,Z.a.loginSuccess,(function(t,e){return e.payload.user})),Object(B.a)(M,Z.a.logoutSuccess,(function(){return H})),Object(B.a)(M,Z.a.getCurrentUserSuccess,(function(t,e){return e.payload})),M)),$=Object(K.c)(null,(L={},Object(B.a)(L,Z.a.registerSuccess,(function(t,e){return e.payload.token})),Object(B.a)(L,Z.a.loginSuccess,(function(t,e){return e.payload.token})),Object(B.a)(L,Z.a.logoutSuccess,(function(){return null})),L)),tt=Object(K.c)(null,(W={},Object(B.a)(W,Z.a.registerError,(function(t,e){return e.payload})),Object(B.a)(W,Z.a.loginError,(function(t,e){return e.payload})),Object(B.a)(W,Z.a.logoutError,(function(t,e){return e.payload})),Object(B.a)(W,Z.a.getCurrentUserError,(function(t,e){return e.payload})),W)),et=Object(K.c)(!1,(T={},Object(B.a)(T,Z.a.registerSuccess,(function(){return!0})),Object(B.a)(T,Z.a.loginSuccess,(function(){return!0})),Object(B.a)(T,Z.a.getCurrentUserSuccess,(function(){return!0})),Object(B.a)(T,Z.a.registerError,(function(){return!1})),Object(B.a)(T,Z.a.loginError,(function(){return!1})),Object(B.a)(T,Z.a.getCurrentUserError,(function(){return!1})),Object(B.a)(T,Z.a.logoutSuccess,(function(){return!1})),T)),rt=Object(G.c)({user:_,isAuthenticated:et,token:$,error:tt}),nt=r(28),ct=r(51),at=r.n(ct),st=[].concat(Object(Q.a)(Object(K.d)({serializableCheck:{ignoredActions:[V.a,V.f,V.b,V.c,V.d,V.e]}})),[D.a]),ut={key:"auth",storage:at.a,whitelist:["token"]},ot=Object(K.a)({reducer:{auth:Object(V.g)(ut,rt),contacts:X},middleware:st,devTools:!1}),it={store:ot,persistor:Object(nt.a)(ot)};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(o.a,{store:it.store,children:Object(b.jsx)(i.a,{loading:null,persistor:it.persistor,children:Object(b.jsx)(u.a,{children:Object(b.jsx)(I,{})})})})}),document.getElementById("root"))}},[[87,5,6]]]);
//# sourceMappingURL=main.fe156718.chunk.js.map