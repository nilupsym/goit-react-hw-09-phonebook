(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{88:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(37);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],c=!0,r=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(c=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);c=!0);}catch(i){r=!0,a=i}finally{try{c||null==u.return||u.return()}finally{if(r)throw a}}return n}}(t,e)||Object(c.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},89:function(t,e,n){t.exports={form:"ContactForm_form__3OaLL",button:"ContactForm_button__17euP"}},90:function(t,e,n){t.exports={list:"ContactList_list__3_lEF"}},91:function(t,e,n){t.exports={btn:"ContactListItem_btn__gpIuD",item:"ContactListItem_item__tgWPW"}},95:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return F}));var c=n(0),r=n(10),a=n(88),o=n(17),u=n.n(o),i=n(21);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var s=function(){return function(t){t(Object(i.i)()),u.a.get("/contacts").then((function(e){var n=e.data;return t(Object(i.j)(n))})).catch((function(e){return t(Object(i.h)(e.message))}))}},b=function(t){var e=t.name,n=t.number;return function(t){var c={name:e,number:n};t(Object(i.b)()),u.a.post("/contacts",c).then((function(e){var n=e.data;return t(Object(i.c)(n))})).catch((function(e){return t(Object(i.a)(e.message))}))}},l=function(t){return function(e){e(Object(i.f)()),u.a.delete("/contacts/".concat(t)).then((function(){return e(Object(i.g)(t))})).catch((function(t){return e(Object(i.e)(t.message))}))}},j=n(89),f=n.n(j),m=n(27),d=function(t){return t.contacts.filter},h=function(t){return t.contacts.items},O={getFilter:d,getFilteredContacts:Object(m.a)([h,d],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getAllContacts:h},p=n(1);function x(){var t=Object(r.b)(),e=Object(c.useState)(""),n=Object(a.a)(e,2),o=n[0],u=n[1],i=Object(c.useState)(""),s=Object(a.a)(i,2),l=s[0],j=s[1],m=Object(c.useCallback)((function(t){j(t.currentTarget.value)}),[]),d=Object(r.c)(O.getFilteredContacts).find((function(t){return t.name.toLowerCase()===o.toLowerCase()})),h=Object(c.useCallback)((function(e){e.preventDefault(),""!==o&&""!==l?d?alert("Contact ".concat(o," is already exist")):(t(b({name:o,number:l})),x()):alert("Please enter data")}),[t,o,l,d]),x=function(){u(""),j("")};return Object(p.jsxs)("form",{onSubmit:h,className:f.a.form,children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Name"}),Object(p.jsx)("input",{name:"name",value:o,type:"text",placeholder:"Name",onChange:function(t){u(t.currentTarget.value)},pattern:"[a-zA-Z \\u0400-\\u04ff]{3,30}"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Number"}),Object(p.jsx)("input",{name:"number",value:l,type:"tel",placeholder:"Number",onChange:m,pattern:"\\d{3}[\\s.-]?\\d{2}[\\s.-]?\\d{2}$",title:"Please, use the following format: 111-11-11"})]}),Object(p.jsx)("button",{type:"submit",className:f.a.button,children:"Add contact"})]})}function v(){var t=Object(r.b)(),e=Object(r.c)(O.getFilter),n=Object(c.useCallback)((function(e){t(i.d(e.target.value))}),[t]);return Object(p.jsxs)("label",{children:["Find contacts by name",Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",value:e,onChange:n,placeholder:"Search contacts"})]})}var g=n(90),C=n.n(g),y=n(91),_=n.n(y),w=function(t){var e=t.id,n=t.name,c=t.number,r=t.handleDeleteContact;return Object(p.jsxs)("li",{className:_.a.item,children:[Object(p.jsxs)("span",{children:[n,": ",c]}),Object(p.jsx)("button",{className:_.a.btn,onClick:function(){return r(e)},children:"Delete"})]},e)};function k(){var t=Object(r.b)(),e=Object(r.c)(O.getFilteredContacts),n=function(e){t(l(e))};return Object(p.jsx)("ul",{className:C.a.list,children:e.map((function(t){return Object(p.jsx)(w,{id:t.id,name:t.name,number:t.number,handleDeleteContact:n},t.id)}))})}function F(){var t=Object(r.b)();return Object(c.useEffect)((function(){t(s())}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Phonebook"}),Object(p.jsx)(x,{}),Object(p.jsx)("h2",{children:"Contacts"}),Object(p.jsx)(v,{}),Object(p.jsx)(k,{})]})}}}]);
//# sourceMappingURL=contacts-page.7ad6f997.chunk.js.map